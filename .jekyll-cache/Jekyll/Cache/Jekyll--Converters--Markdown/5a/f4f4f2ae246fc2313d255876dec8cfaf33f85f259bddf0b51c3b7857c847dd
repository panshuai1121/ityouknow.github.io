I"ñ<p>Wordpress ç›®å‰æ˜¯ä¸–ç•Œä¸Šå»ºç«™ä½¿ç”¨æœ€å¤šçš„æ¡†æ¶ï¼Œå¾ˆå¤šæœ‹å‹ä½¿ç”¨ Wordpress åšä¸ºè‡ªå·±çš„åšå®¢ã€‚æ…¢æ…¢çš„æœ‰äº›æœ‹å‹ä¼šç³»é‚£ä¸ªå°†æµé‡å¯¼å…¥åˆ°è‡ªå·±çš„å¾®ä¿¡å…¬ä¼—å·ï¼Œå¤§å®¶ç›¸ç»­æäº†ä¸€äº›æ–¹æ¡ˆã€‚</p>

<p>ç”šè‡³è¿˜æœ‰ä¸€ä¸ªæœ‹å‹åšäº†ä¸€ä¸ªå«â€œå¾®ä¿¡å…¬ä¼—å·æ¶¨ç²‰â€æ’ä»¶ï¼ŒåŸºæœ¬ä¸Šå®ç°äº†æ¶¨ç²‰å¿…é¡»å…³æ³¨å…¬å·æ‰å¯ä»¥æŸ¥çœ‹éšè—å†…å®¹çš„åŠŸèƒ½ã€‚ä½†æ˜¯éšç€æ—¶é—´çš„æµé€è¿™ä¸ªå·®è·ä¹Ÿæœ‰ä¸€ä¸ªå°é—®é¢˜ï¼Œå°±æ˜¯ä¸æ”¯æŒ Wordpress 5ï¼Œå¦å¤–è¿˜æœ‰ä¸€ä¸ªç—›ç‚¹æ‰€æœ‰çš„é¡µé¢ç§˜å¯†éƒ½æ˜¯ä¸€æ ·çš„ã€‚</p>

<p>å‰æ®µæ—¶é—´è‡ªå·±ä¹Ÿæ­äº†ä¸€ä¸ªç½‘ç«™ï¼Œæƒ³åˆ°è¾¾è¿™æ ·çš„åŠŸèƒ½ï¼Œå¯æƒœæ‰¾äº†å¾ˆå¤šç›¸å…³çš„æ’ä»¶ï¼Œæˆ–è€…ç°æˆçš„ä¸€äº›è§£å†³æ–¹æ¡ˆï¼Œéƒ½ä¸èƒ½è¾¾åˆ°è‡ªå·±çš„éœ€æ±‚ï¼Œå½“ç„¶ä¹Ÿå‘ç°äº†ä¸€äº›å¥½ç©çš„ä¸œè¥¿ï¼Œäºæ˜¯åœ¨è¿™ä¸ªåŸºç¡€ä¹‹ä¸Šæœ€åå®ç°äº†é¢„æƒ³ä¸­çš„åŠŸèƒ½ã€‚</p>

<p>1ã€å¿…é¡»åœ¨å…¬ä¼—å·ä¸­å›å¤æŸä¸ªå…³é”®å­—ï¼Œæ‰å¯ä»¥çœ‹åˆ°éšè—å†…å®¹ï¼ˆé‡è¦ä¿¡æ¯æˆ–è€…ä¸‹è½½èµ„æºï¼‰ã€‚
2ã€æ¯ä¸ªé¡µé¢å¯ä»¥å•ç‹¬å®šåˆ¶ç§˜å¯†ï¼Œä¹Ÿå¯ä»¥ç»Ÿä¸€è®¾ç½®å¯†ç ã€‚</p>

<p>æ—¢ç„¶æ²¡æœ‰ç°æˆçš„è§£å†³æ–¹æ¡ˆï¼Œé‚£å°±è‡ªå·±æ¥äº†ã€‚</p>

<p>æˆ‘æ˜¯åœ¨ç½‘ä¸ŠæŸ¥æ‰¾ç›¸å…³è§£å†³æ–¹æ¡ˆçš„æ—¶å€™ï¼Œçœ‹åˆ°äº†è¿™ä¸ªæ–‡ç« <a href="https://www.joynop.com/p/82.html">WordPressä»£ç éšè—æ–‡ç« å†…å®¹ éœ€ç™»å½•æˆ–è¾“å…¥å¯†ç å¯è§</a>ï¼Œå†å®ƒçš„åŸºç¡€ä¸Šå®ç°äº†ç›¸å…³åŠŸèƒ½ã€‚</p>

<p>åºŸè¯ä¸å¤šè¯´ç»™å¤§å®¶è¯´å¦‚ä½•æ¥å®ç°å§ã€‚</p>

<p>åœ¨ä¸»é¢˜ function.php æ–‡ä»¶é‡ŒåŠ å…¥ä»¥ä¸‹ä»£ç ã€‚</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>//éƒ¨åˆ†å†…å®¹è¾“å…¥å¯†ç å¯è§
function e_secret($atts, $content=null){
	 extract(shortcode_atts(array('key'=&gt;null), $atts));
	 if(isset($_POST['e_secret_key']) &amp;&amp; $_POST['e_secret_key'] !='' &amp;&amp; $_POST['e_secret_key']==$key){
		return '
				&lt;div class="e-secret"&gt;'.$content.'&lt;/div&gt;
				';
	 }elseif (isset($_POST['e_secret_key']) &amp;&amp; $_POST['e_secret_key'] !='' &amp;&amp; $key =='' &amp;&amp; $_POST['e_secret_key']=='123456') {
		  return '
				&lt;div class="e-secret"&gt;'.$content.'&lt;/div&gt;
				';
	 }
	 else{
		 return '
		&lt;form class="e-secret" action="'.get_permalink().'" method="post" name="e-secret" &gt;
			&lt;div class="e-secret-container"&gt;
			&lt;div class="e-secret-title-content" &gt;æ­¤å¤„å†…å®¹å·²ç»è¢«ä½œè€…æ— æƒ…çš„éšè—ï¼Œè¯·è¾“å…¥éªŒè¯ç æŸ¥çœ‹å†…å®¹ï¼š&lt;/div&gt;
			&lt;div class="e-secret-code" &gt;
    			&lt;span&gt;éªŒè¯ç ï¼š&lt;/span&gt;
			&lt;input type="password" name="e_secret_key" class="euc-y-i" maxlength="50" &gt;
			&lt;input type="submit" class="euc-y-s" value="ç¡®å®š" &gt;
    		&lt;/div&gt;
			&lt;div class="e-secret-tip" &gt;
			    è¯·å…³æ³¨æœ¬ç«™å…¬ä¼—å·å›å¤â€œ&lt;span&gt;éªŒè¯ç &lt;/span&gt;â€ï¼Œè·å–éªŒè¯ç ã€‚
			    &lt;span&gt;ã€æ³¨ã€‘&lt;/span&gt;â€åœ¨å¾®ä¿¡é‡Œæœç´¢â€œä¸ä¼šç¬‘é’å¹´â€æˆ–è€…â€œlaughyouthâ€æˆ–è€…å¾®ä¿¡æ‰«æå³ä¾§äºŒç»´ç éƒ½å¯ä»¥å…³æ³¨å¾®ä¿¡å…¬ä¼—å·ã€‚
			&lt;/div&gt;
			&lt;/div&gt;
			&lt;img src="http://www.ityouknow.com/assets/images/cartoon.jpg" alt="ä¸ä¼šç¬‘é’å¹´" &gt;
			&lt;/form&gt;
		';
	 }
}


add_shortcode('secret','e_secret');
</code></pre></div></div>

<p>ç„¶åæ³¨å…¥åˆ°ä¸»å‡½æ•°ä¸­ã€‚</p>

<p>ä¸Šé¢è¿™æ®µä»£ç æ¯”è¾ƒç®€å•ï¼Œæ„æ€å°±æ˜¯é¡µé¢æ˜¯å¦æœ‰éšè—ä»£ç çš„æ ‡æ³¨ï¼Œå¦‚æœæœ‰çš„è¯æ˜¾ç¤ºéœ€è¦éªŒè¯çš„é¡µé¢ï¼Œå¦‚æœæ˜¯æäº¤äº†é¡µé¢ç§˜å¯†ä¹‹åï¼Œæ ¹æ®ç§˜å¯†åˆ¤æ–­æ˜¯å¦æ­£ç¡®ï¼Œå¦‚æœæ­£ç¡®å±•ç¤ºå‡ºéšè—çš„å†…å®¹ã€‚</p>

<p>è‡ªå·±ä¸»é¢˜ main.css æˆ–è€… style.css æˆ–è€… app.css æ ·å¼æ–‡ä»¶é‡Œæ·»åŠ ä¸‹é¢ä»£ç  css æ”¹åŠ¨å¦‚ä¸‹ï¼š</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>.e-secret {
    background: none repeat scroll 0 0 #fcffff;
    border: 1px dashed #24b4f0;
    color: #123456;
    padding: 10px;
    border-radius: 9px;
    margin: 18px 0px;
    overflow: hidden;
    clear: both;
	white-space: initial;
}

.e-secret img{
	float: right;
    max-width: 30%;
}

.e-secret input.euc-y-i[type="password"] {
    /* float: left; */
    background: #fff;
    width: 20%;
    line-height: 30px;
    margin-top: 5px;
    border-radius: 3px;
	display:inline-block;
}
.e-secret input.euc-y-s[type="submit"] {
    margin-top: -47px;
    width: 72px;
    margin-right: 1px;
    border-radius: 3px;
    margin-top: 1px;
    padding: 10px 8px;
	display:inline-block;
}


.e-secret-container{	
	display: inline-block;
    width: 70%;
    margin-top: 10px;
}

.e-secret-title-content{
	font-size: 18px;
    line-height: 20px;
    color: #f0503c;
    margin: 5px;
}

.e-secret-code{
	margin-top: 24px;
}

.e-secret-code span{
	font-size: 18px;
    font-weight: bold;
    margin: 5px;
}

.e-secret-tip{
	margin-top: 24px;
}

.e-secret-tip span{
	color: #f0503c;
}
</code></pre></div></div>

<p>ä»¥ä¸Šä»£ç å³å¯å®ç°æˆ‘ä»¬æƒ³è¦çš„åŠŸèƒ½ï¼Œå¦‚æœåœ¨é¡µé¢ä¸­éœ€è¦éšè—éƒ¨åˆ†å†…å®¹æ˜¯ï¼Œå°±æŒ‰ç…§ä¸‹é¢è¿™ç§æ–¹å¼æ¥å†™ã€‚</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[secret key="å¯†ç "]åŠ å¯†å†…å®¹[/secret] // ä½¿ç”¨é¡µé¢å¯†ç 
[secret ]åŠ å¯†å†…å®¹[/secret]    // ä½¿ç”¨å…¨å±€ç»Ÿä¸€å¯†ç 

</code></pre></div></div>

<p>å¦‚æœè¿™é‡Œä½¿ç”¨äº† key è¿™ä¸ªå…³é”®å­—ï¼Œå°±è¯´æ˜é¡µé¢å®šåˆ¶äº†è‡ªå·±çš„ç§˜å¯†ï¼Œç”¨æˆ·éœ€è¦è¾“å…¥æ¬¡å¯†ç æ‰å¯ä»¥çœ‹åˆ°éšè—åŠŸèƒ½ï¼›å¦‚æœæ²¡æœ‰ä½¿ç”¨ key å…³é”®å­—é‚£ä¹ˆç³»ç»Ÿå°±ä¼šé»˜è®¤ä½¿ç”¨ç»Ÿä¸€çš„å¯†ç æ¥éšè—å†…å®¹ã€‚</p>

<p>æœ€åçš„æ•ˆæœå¦‚ä¸‹ï¼š</p>

<p><img src="http://favorites.ren/assets/images/2020/it/wpsecret.png" alt="" /></p>

<p>æˆ‘æŠŠå®Œæ•´çš„ä»£ç æ”¾åˆ°äº† ä¸ä¼šç¬‘é’å¹´å…¬å·ä¸­ï¼Œæ„Ÿå…´è¶£çš„æœ‹å‹åœ¨å…¬å·ä¸­å›å¤ 306 æŸ¥çœ‹ã€‚</p>
:ET