I"ŒA<p>by æå…‰</p>

<p>ä»Šå¤©æ¥ä¸ºå¤§å®¶ä»‹ç» Python å¦ä¸€ä¸ª Web å¼€å‘æ¡†æ¶ Djangoï¼Œå®ƒæ˜¯ä¸€ä¸ªåŸºäº Python å®šåˆ¶çš„å¼€æº Web åº”ç”¨æ¡†æ¶ï¼Œæœ€æ—©æºäºä¸€ä¸ªåœ¨çº¿æ–°é—» Web ç½‘ç«™ï¼Œåäº2005å¹´å¼€æºã€‚Django çš„åŠŸèƒ½å¤§è€Œå…¨ï¼Œå®ƒæä¾›çš„ä¸€ç«™å¼è§£å†³çš„æ€è·¯ï¼Œèƒ½è®©å¼€å‘è€…ä¸ç”¨åœ¨å¼€å‘ä¹‹å‰å°±åœ¨é€‰æ‹©åº”ç”¨çš„åŸºç¡€è®¾æ–½ä¸ŠèŠ±è´¹å¤§é‡æ—¶é—´ã€‚å®ƒæœ‰å¾ˆå¤šåŠŸèƒ½å¼ºå¤§çš„ç¬¬ä¸‰æ–¹æ’ä»¶ï¼Œå¯ä»¥ä½¿æˆ‘ä»¬æ›´å¿«é€Ÿã€æ–¹ä¾¿çš„å¼€å‘ä¸€ä¸ªç½‘ç«™ã€‚</p>

<!--more-->

<h2 id="django-æ¡†æ¶">Django æ¡†æ¶</h2>

<p>Django é‡‡ç”¨äº† MVC (å³æ¨¡å‹Mï¼Œè§†å›¾Vå’Œæ§åˆ¶å™¨C)æ„é€ çš„ Web æ¡†æ¶ï¼Œä½†ç”±äºæ§åˆ¶å™¨æ¥å—ç”¨æˆ·è¾“å…¥çš„éƒ¨åˆ†ç”±æ¡†æ¶è‡ªè¡Œå¤„ç†ï¼Œæ‰€ä»¥ä½¿ç”¨ Django å¼€å‘ä¸­é‡Œæ›´å…³æ³¨çš„æ˜¯æ¨¡å‹ï¼ˆModelï¼‰ã€æ¨¡æ¿(Template)å’Œè§†å›¾ï¼ˆViewsï¼‰ï¼Œç§°ä¸º MTV æ¨¡å¼ã€‚
Django çš„ä¸»è¦ç›®çš„æ˜¯ç®€ä¾¿ã€å¿«é€Ÿçš„å¼€å‘æ•°æ®åº“é©±åŠ¨çš„ç½‘ç«™ã€‚å®ƒå¼ºè°ƒä»£ç å¤ç”¨ï¼Œå¤šä¸ªç»„ä»¶å¯ä»¥å¾ˆæ–¹ä¾¿çš„ä»¥â€œæ’ä»¶â€å½¢å¼æœåŠ¡äºæ•´ä¸ªæ¡†æ¶ï¼ŒDjango æœ‰è®¸å¤šåŠŸèƒ½å¼ºå¤§çš„ç¬¬ä¸‰æ–¹â€œæ’ä»¶â€ï¼Œä½ ç”šè‡³å¯ä»¥å¾ˆæ–¹ä¾¿çš„å¼€å‘å‡ºè‡ªå·±çš„å·¥å…·åŒ…ï¼Œè¿™ä½¿å¾— Django å…·æœ‰å¾ˆå¼ºçš„å¯æ‰©å±•æ€§ã€‚å®ƒè¿˜å¼ºè°ƒå¿«é€Ÿå¼€å‘å’Œ DRY(Do Not Repeat Yourself) åŸåˆ™ã€‚</p>

<h2 id="å®‰è£…-django-åº“">å®‰è£… Django åº“</h2>

<p>åŒå…¶ä»–æ¨¡å—ä¸€æ ·ï¼ŒDjango çš„å®‰è£…ä¹Ÿéå¸¸ç®€å•ï¼Œä¸‹é¢é€šè¿‡ pip3 åŒ…ç®¡ç†å™¨æ¥å®‰è£…</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip3 <span class="nb">install </span>django
</code></pre></div></div>

<p>å®‰è£… Django ä¹‹åå°±å¯ä»¥ä½¿ç”¨ç®¡ç†å·¥å…· <code class="highlighter-rouge">django-admin</code>ï¼Œå¯ä»¥ç”¨æ¥åˆ›å»ºé¡¹ç›®ï¼Œåˆ›å»ºåº”ç”¨ï¼Œå¯åŠ¨æœåŠ¡ç­‰æ“ä½œå‘½ä»¤ã€‚</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>django-admin
cleanup           <span class="nt">--</span> remove old data from the database
compilemessages   <span class="nt">--</span> compile .po files to .mo <span class="k">for </span>use with gettext
createcachetable  <span class="nt">--</span> creates table <span class="k">for </span>SQL cache backend
createsuperuser   <span class="nt">--</span> create a superuser
dbshell           <span class="nt">--</span> run command-line client <span class="k">for </span>the current database
diffsettings      <span class="nt">--</span> display differences between the current settings and Django defaults
dumpdata          <span class="nt">--</span> output contents of database as a fixture
flush             <span class="nt">--</span> execute <span class="s1">'sqlflush'</span> on the current database
inspectdb         <span class="nt">--</span> output Django model module <span class="k">for </span>tables <span class="k">in </span>database
loaddata          <span class="nt">--</span> <span class="nb">install </span>the named fixture<span class="o">(</span>s<span class="o">)</span> <span class="k">in </span>the database
makemessages      <span class="nt">--</span> pull out all strings marked <span class="k">for </span>translation
reset             <span class="nt">--</span> executes <span class="s1">'sqlreset'</span> <span class="k">for </span>the given app<span class="o">(</span>s<span class="o">)</span>
runfcgi           <span class="nt">--</span> run this project as a fastcgi
runserver         <span class="nt">--</span> start a lightweight web server <span class="k">for </span>development
shell             <span class="nt">--</span> run a Python interactive interpreter. Tries to use IPython, <span class="k">if </span>it<span class="s1">'s available
sql               -- print the CREATE TABLE statements for the given app(s)
sqlall            -- print the CREATE TABLE, CREATE INDEX and custom statements for the given app(s)
sqlclear          -- print the DROP TABLE statements for the given app(s)
sqlcustom         -- print the custom table-modifying SQL statements for the given app(s)
sqlflush          -- print the SQL statements required to return all tables to installation state
sqlindexes        -- print the CREATE INDEX statements for the given app(s)
sqlreset          -- print the DROP TABLE and CREATE TABLE statements for the given app(s)
sqlsequencereset  -- print the SQL statements for resetting sequences for the given app(s)
startapp          -- create Django app directory in this project'</span>s directory
syncdb            <span class="nt">--</span> create database tables <span class="k">for </span>apps <span class="k">in </span>INSTALLED_APPS where required
<span class="nb">test</span>              <span class="nt">--</span> run the <span class="nb">test </span>suite <span class="k">for </span>the specified app, or the entire site
testserver        <span class="nt">--</span> run a development server with data from the given fixture<span class="o">(</span>s<span class="o">)</span>
validate          <span class="nt">--</span> validate all installed modules

</code></pre></div></div>

<h2 id="åˆ›å»ºä¸€ä¸ªé¡¹ç›®">åˆ›å»ºä¸€ä¸ªé¡¹ç›®</h2>

<p>é¡¹ç›®æ˜¯ Django å®ä¾‹çš„ä¸€ç³»åˆ—è®¾ç½®çš„é›†åˆï¼Œå®ƒåŒ…æ‹¬æ•°æ®åº“é…ç½®ã€Django ç‰¹å®šé€‰é¡¹ä»¥åŠåº”ç”¨ç¨‹åºçš„ç‰¹å®šè®¾ç½®ã€‚å®‰è£…æˆåŠŸåï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å¼€å§‹åˆ›å»ºä¸€ä¸ªæ–°é¡¹ç›® <code class="highlighter-rouge">TestProject</code></p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>django-admin startproject TestProject

<span class="nv">$ </span><span class="nb">cd </span>TestProject
<span class="nv">$.</span>
 |____manage.py
 |____TestProject
 | |______init__.py
 | |____settings.py
 | |____urls.py
 | |____wsgi.py

</code></pre></div></div>

<blockquote>
  <p><strong>ç›®å½•è¯´æ˜</strong>ï¼š
TestProject: é¡¹ç›®çš„å®¹å™¨ã€‚
manage.py: ä¸€ä¸ªå®ç”¨çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œå¯è®©ä½ ä»¥å„ç§æ–¹å¼ä¸è¯¥ Django é¡¹ç›®è¿›è¡Œäº¤äº’ã€‚
TestProject/<strong>init</strong>.py: ä¸€ä¸ªç©ºæ–‡ä»¶ï¼Œå‘Šè¯‰ Python è¯¥ç›®å½•æ˜¯ä¸€ä¸ª Python åŒ…ã€‚
TestProject/settings.py: è¯¥ Django é¡¹ç›®çš„è®¾ç½®/é…ç½®ã€‚
TestProject/urls.py: è¯¥ Django é¡¹ç›®çš„ URL å£°æ˜; ä¸€ä»½ç”± Django é©±åŠ¨çš„ç½‘ç«™â€ç›®å½•â€ã€‚
TestProject/wsgi.py: ä¸€ä¸ª WSGI å…¼å®¹çš„ Web æœåŠ¡å™¨çš„å…¥å£ï¼Œä»¥ä¾¿è¿è¡Œä½ çš„é¡¹ç›®ã€‚</p>
</blockquote>

<h2 id="å¯åŠ¨å¼€å‘æœåŠ¡å™¨">å¯åŠ¨å¼€å‘æœåŠ¡å™¨</h2>

<p>åˆ›å»ºå®Œé¡¹ç›®åï¼Œå…¶å®å°±å·²ç»æ„æˆäº†ä¸€ä¸ªå¯è¿è¡Œçš„ Django ç½‘ç«™ã€‚Django è‡ªå¸¦äº†ä¸€ä¸ªç®€å•çš„ç½‘ç»œæœåŠ¡å™¨ï¼Œåœ¨å¼€å‘è¿‡ç¨‹ä¸­éå¸¸æ–¹ä¾¿ï¼Œæ‰€ä»¥æˆ‘ä»¬æ— éœ€å®‰è£…ä»»ä½•å…¶ä»–è½¯ä»¶å³å¯åœ¨æœ¬åœ°è¿è¡Œé¡¹ç›®ã€‚åœ¨ <code class="highlighter-rouge">TestProject</code> é¡¹ç›®ç›®å½•ä¸‹è¾“å…¥å¦‚ä¸‹å‘½ä»¤å¯åŠ¨æœåŠ¡å™¨:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>python manage.py runserver 127.0.0.1:8080
Watching <span class="k">for </span>file changes with StatReloader
Performing system checks...

System check identified no issues <span class="o">(</span>0 silenced<span class="o">)</span><span class="nb">.</span>

You have 17 unapplied migration<span class="o">(</span>s<span class="o">)</span><span class="nb">.</span> Your project may not work properly <span class="k">until </span>you apply the migrations <span class="k">for </span>app<span class="o">(</span>s<span class="o">)</span>: admin, auth, contenttypes, sessions.
Run <span class="s1">'python manage.py migrate'</span> to apply them.

September 27, 2019 - 10:54:32
Django version 2.2.5, using settings <span class="s1">'testweb.settings'</span>
Starting development server at http://127.0.0.1:8080/
Quit the server with CONTROL-C.

</code></pre></div></div>

<p>å¦‚ä¸Šæ‰€ç¤ºæœåŠ¡å¯åŠ¨å®Œæˆã€‚
django å¼€å‘æœåŠ¡æ˜¯å¯ç”¨åœ¨å¼€å‘æœŸé—´çš„ï¼Œä¸€ä¸ªå†…å»ºçš„ï¼Œè½»é‡çš„webæœåŠ¡ã€‚å®ƒæä¾›äº†ä¸€ä¸ªåœ¨ç½‘ç«™å¼€å‘é˜¶æ®µæ—¶å®ç›‘æµ‹ä½ çš„ä»£ç ä¿®æ”¹å¹¶åŠ è½½åˆ°å®ƒä»¬ï¼Œä½ èƒ½ç›´æ¥çœ‹åˆ°ä¿®æ”¹ç»“æœè€Œä¸éœ€è¦é‡å¯æœåŠ¡ã€‚</p>

<blockquote>
  <p>127.0.0.1ï¼šè¡¨ç¤ºå¯è¿æ¥åˆ°æœåŠ¡å™¨çš„IPåœ°å€
8080ï¼šç«¯å£å·(å¦‚æœä¸æŒ‡å®šï¼Œç«¯å£å·é»˜è®¤ä¸º 8000)</p>
</blockquote>

<p>ç„¶ååœ¨æµè§ˆå™¨è¾“å…¥æœåŠ¡å™¨çš„IPåŠç«¯å£å·(è¿™é‡Œæˆ‘ä»¬è¾“å…¥æœ¬æœº IP åœ°å€ï¼š 127.0.0.1:8080) ï¼Œå¦‚æœæ­£å¸¸å¯åŠ¨ï¼Œè¾“å‡ºç»“æœå¦‚ä¸‹ï¼š</p>

<p><img src="http://www.justdopython.com/assets/images/2019/python/python_web_django_01.png" alt="æ­£å¸¸å¯åŠ¨" /></p>

<blockquote>
  <p>æ³¨æ„ï¼šå¼€å‘æœåŠ¡å™¨åœ¨éœ€è¦çš„æƒ…å†µä¸‹ä¼šå¯¹æ¯ä¸€æ¬¡çš„è®¿é—®è¯·æ±‚é‡æ–°è½½å…¥ä¸€é Python ä»£ç ã€‚æ‰€ä»¥ä½ ä¸éœ€è¦ä¸ºäº†è®©ä¿®æ”¹çš„ä»£ç ç”Ÿæ•ˆè€Œé¢‘ç¹çš„é‡æ–°å¯åŠ¨æœåŠ¡å™¨ã€‚ç„¶è€Œï¼Œä¸€äº›åŠ¨ä½œï¼Œæ¯”å¦‚æ·»åŠ æ–°æ–‡ä»¶ï¼Œå°†ä¸ä¼šè§¦å‘è‡ªåŠ¨é‡æ–°åŠ è½½ï¼Œè¿™æ—¶ä½ å¾—è‡ªå·±æ‰‹åŠ¨é‡å¯æœåŠ¡å™¨ã€‚</p>
</blockquote>

<h2 id="é…ç½®å¼€å‘æœåŠ¡å™¨">é…ç½®å¼€å‘æœåŠ¡å™¨</h2>

<p>Django æ˜¯ä¸€ä¸ªæ”¯æŒå›½é™…åŒ–å’Œæœ¬åœ°åŒ–çš„æ¡†æ¶ï¼Œå› æ­¤åˆšæ‰æˆ‘ä»¬çœ‹åˆ°çš„é»˜è®¤é¦–é¡µä¹Ÿæ˜¯æ”¯æŒå›½é™…åŒ–çš„ï¼Œæˆ‘ä»¬å°†é»˜è®¤è¯­è¨€ä¿®æ”¹ä¸ºä¸­æ–‡ï¼Œæ—¶åŒºè®¾ç½®ä¸ºä¸œå…«åŒºï¼Œé…ç½®å¦‚ä¸‹ï¼š</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>vi TestProject/settings.py
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code># çœç•¥ä¸Šä¸‹æ–‡
# è®¾ç½®è¯­è¨€ä»£ç 
LANGUAGE_CODE = 'zh-hans'
# è®¾ç½®æ—¶åŒº
TIME_ZONE = 'Asia/Chongqing'
</code></pre></div></div>

<p>ç„¶ååˆ·æ–°åˆšæ‰çš„é¡µé¢ï¼Œé¡µé¢ä¼šå˜ä¸ºä¸­æ–‡æ˜¾ç¤ºï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
<img src="http://www.justdopython.com/assets/images/2019/python/python_web_django_02.png" alt="" /></p>

<h2 id="åˆ›å»ºä¸€ä¸ªåº”ç”¨">åˆ›å»ºä¸€ä¸ªåº”ç”¨</h2>

<p>åˆ›å»ºå®Œé¡¹ç›®ï¼Œå°±å¯ä»¥åœ¨é¡¹ç›®åˆ›å»ºåº”ç”¨äº†ï¼Œæ¯ä¸€ä¸ªåº”ç”¨éƒ½æ˜¯ä¸€ä¸ª Python åŒ…ï¼Œå¹¶ä¸”éµå¾ªç€ç›¸åŒçš„çº¦å®šã€‚Django è‡ªå¸¦ä¸€ä¸ªå·¥å…·ï¼Œå¯ä»¥å¸®ä½ ç”Ÿæˆåº”ç”¨çš„åŸºç¡€ç›®å½•ç»“æ„ï¼Œè¿™æ ·ä½ å°±èƒ½ä¸“å¿ƒå†™ä»£ç ï¼Œè€Œä¸æ˜¯åˆ›å»ºç›®å½•äº†ã€‚</p>

<blockquote>
  <p><strong>é¡¹ç›® VS åº”ç”¨</strong>
é¡¹ç›®å’Œåº”ç”¨æœ‰å•¥åŒºåˆ«ï¼Ÿåº”ç”¨æ˜¯ä¸€ä¸ªä¸“é—¨åšæŸä»¶äº‹çš„ç½‘ç»œåº”ç”¨ç¨‹åºâ€”â€”æ¯”å¦‚åšå®¢ç³»ç»Ÿï¼Œæˆ–è€…å…¬å…±è®°å½•çš„æ•°æ®åº“ï¼Œæˆ–è€…ç®€å•çš„æŠ•ç¥¨ç¨‹åºã€‚é¡¹ç›®åˆ™æ˜¯ä¸€ä¸ªç½‘ç«™ä½¿ç”¨çš„é…ç½®å’Œåº”ç”¨çš„é›†åˆã€‚é¡¹ç›®å¯ä»¥åŒ…å«å¾ˆå¤šä¸ªåº”ç”¨ï¼Œåº”ç”¨å¯ä»¥è¢«å¾ˆå¤šä¸ªé¡¹ç›®ä½¿ç”¨ã€‚</p>
</blockquote>

<p>ä½ çš„åº”ç”¨å¯ä»¥å­˜æ”¾åœ¨ä»»ä½•Â Python <code class="highlighter-rouge">path</code>Â ä¸­å®šä¹‰çš„è·¯å¾„ã€‚åœ¨è¿™ä¸ªæ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†åœ¨ä½ çš„Â <code class="highlighter-rouge">manage.py</code>Â åŒçº§ç›®å½•ä¸‹åˆ›å»ºæŠ•ç¥¨åº”ç”¨ã€‚è¿™æ ·å®ƒå°±å¯ä»¥ä½œä¸ºé¡¶çº§æ¨¡å—å¯¼å…¥ï¼Œè€Œä¸æ˜¯Â <code class="highlighter-rouge">mysite</code>Â çš„å­æ¨¡å—ã€‚
è¯·ç¡®å®šä½ ç°åœ¨å¤„äºÂ <code class="highlighter-rouge">manage.py</code>Â æ‰€åœ¨çš„ç›®å½•ä¸‹ï¼Œç„¶åè¿è¡Œè¿™è¡Œå‘½ä»¤æ¥åˆ›å»ºä¸€ä¸ªåº”ç”¨ï¼š</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>python manage.py startapp polls
<span class="nv">$ </span>tree     <span class="c">#åˆ—å‡ºå½“å‰ç›®å½•ç»“æ„</span>
<span class="nb">.</span>
|____db.sqlite3
|____manage.py
|____polls
| |______init__.py
| |____admin.py
| |____apps.py
| |____migrations
| | |______init__.py
| |____models.py
| |____tests.py
| |____views.py
|____TestProject
| |______init__.py
| |______pycache__
| | |______init__.cpython-37.pyc
| | |____settings.cpython-37.pyc
| | |____urls.cpython-37.pyc
| | |____wsgi.cpython-37.pyc
| |____settings.py
| |____urls.py
| |____wsgi.py
</code></pre></div></div>

<p>ç„¶åæˆ‘ä»¬å°±å¯ä»¥ç¼–è¾‘<code class="highlighter-rouge">polls</code>åº”ç”¨ä¸­çš„<code class="highlighter-rouge">views.py</code>è§†å›¾ï¼Œæ“ä½œå¦‚ä¸‹ï¼š</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>vim polls/views.py
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">django.http</span> <span class="kn">import</span> <span class="n">HttpResponse</span>

<span class="k">def</span> <span class="nf">index</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">HttpResponse</span><span class="p">(</span><span class="s">"ä½ å¥½ï¼Œè¿™æ˜¯ä¸€ä¸ªæŠ•ç¥¨é¡µé¢ã€‚"</span><span class="p">)</span>
</code></pre></div></div>

<p>ä¿å­˜åé€€å‡ºï¼Œè¿™æ ·ä¸€ä¸ªç®€å•çš„è§†å›¾å°±åšå¥½äº†ï¼Œæ¥ä¸‹æ¥éœ€è¦ç»™å®ƒåŠ ä¸€ä¸ªæŒ‡å‘è¿™ä¸ªè§†å›¾çš„è·¯ç”±ã€‚é¦–å…ˆæˆ‘ä»¬éœ€è¦åœ¨<code class="highlighter-rouge">polls</code>åº”ç”¨ä¸‹æ–°å»º <code class="highlighter-rouge">urls.py</code> çš„æ–‡ä»¶ï¼Œæ“ä½œå¦‚ä¸‹ï¼š</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>vim polls/urls.py
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">django.urls</span> <span class="kn">import</span> <span class="n">path</span>
<span class="kn">from</span> <span class="nn">.</span> <span class="kn">import</span> <span class="n">views</span>

<span class="n">urlpatterns</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">path</span><span class="p">(</span><span class="s">''</span><span class="p">,</span> <span class="n">views</span><span class="p">.</span><span class="n">index</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s">'index'</span><span class="p">),</span>
<span class="p">]</span>
</code></pre></div></div>

<p>ä¿å­˜åé€€å‡ºï¼Œç„¶åè¿˜éœ€è¦ä¿®æ”¹ <code class="highlighter-rouge">TestProject</code> ç›®å½•ä¸‹çš„ <code class="highlighter-rouge">urls.py</code>ï¼Œå¢åŠ  <code class="highlighter-rouge">polls</code> çš„è·¯ç”±æ˜ å°„é…ç½®ï¼Œå¦‚ä¸‹ï¼š</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>vim TestProject/urls.py
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">django.contrib</span> <span class="kn">import</span> <span class="n">admin</span>
<span class="kn">from</span> <span class="nn">django.urls</span> <span class="kn">import</span> <span class="n">path</span><span class="p">,</span> <span class="n">include</span>

<span class="n">urlpatterns</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">path</span><span class="p">(</span><span class="s">'polls/'</span><span class="p">,</span> <span class="n">include</span><span class="p">(</span><span class="s">'polls.urls'</span><span class="p">)),</span>
    <span class="n">path</span><span class="p">(</span><span class="s">'admin/'</span><span class="p">,</span> <span class="n">admin</span><span class="p">.</span><span class="n">site</span><span class="p">.</span><span class="n">urls</span><span class="p">),</span>
<span class="p">]</span>
</code></pre></div></div>

<blockquote>
  <p>å‡½æ•°Â <code class="highlighter-rouge">include()</code>Â å…è®¸å¼•ç”¨å…¶å®ƒ <code class="highlighter-rouge">URLconfs</code>ã€‚æ¯å½“ Django é‡åˆ°Â <code class="highlighter-rouge">include()</code>Â æ—¶ï¼Œå®ƒä¼šæˆªæ–­ä¸æ­¤é¡¹åŒ¹é…çš„ URL çš„éƒ¨åˆ†ï¼Œå¹¶å°†å‰©ä½™çš„å­—ç¬¦ä¸²å‘é€åˆ° <code class="highlighter-rouge">URLconf</code> ä»¥ä¾›è¿›ä¸€æ­¥å¤„ç†ã€‚
Djangoè®¾è®¡Â <code class="highlighter-rouge">include()</code> çš„ç†å¿µæ˜¯ä½¿å…¶å¯ä»¥å³æ’å³ç”¨ï¼Œå½“åŒ…æ‹¬å…¶å®ƒ URL æ¨¡å¼æ—¶ä½ åº”è¯¥æ€»æ˜¯ä½¿ç”¨ <code class="highlighter-rouge">include()</code>ï¼Œ <code class="highlighter-rouge">admin.site.urls</code> æ˜¯å”¯ä¸€ä¾‹å¤–ã€‚</p>
</blockquote>

<p>ä¿å­˜åé€€å‡ºï¼Œç„¶åæˆ‘ä»¬å†è®¿é—®ç½‘å€ http://localhost:8080/polls/ï¼Œ å°±èƒ½è®¿é—®åˆ°æˆ‘ä»¬æ–°åˆ›å»ºçš„é¡µé¢äº†ï¼Œå¦‚ä¸‹å›¾ï¼š</p>

<p><img src="http://www.justdopython.com/assets/images/2019/python/python_web_django_03.png" alt="" /></p>

<h2 id="æ€»ç»“">æ€»ç»“</h2>

<p>æœ¬æ–‡é€šè¿‡ä¸Šé¢å‡ æ­¥æ“ä½œï¼Œå°±å¯ä»¥å¿«é€Ÿåˆ›å»ºä¸€ä¸ªå¯è®¿é—®çš„ç½‘ç«™ï¼Œæ˜¯ä¸æ˜¯è§‰å¾—ç”¨ Django å¼€å‘ç½‘ç«™åŸæ¥è¿™ä¹ˆç®€å•æ–¹ä¾¿ã€‚Djangoè¿˜æœ‰æ¨¡æ¿ï¼Œè¡¨å•ï¼Œè·¯ç”±ï¼Œè®¤è¯ï¼ŒåŸºæœ¬çš„æ•°æ®åº“ç®¡ç†ç­‰ç­‰å†…å»ºåŠŸèƒ½ï¼Œæ¥ä¸‹æ¥å°†è¿›ä¸€æ­¥çš„ä»‹ç» Django çš„é«˜çº§åŠŸèƒ½ã€‚</p>

<h2 id="å‚è€ƒ">å‚è€ƒ</h2>

<ul>
  <li><a href="https://docs.djangoproject.com/zh-hans/2.2/">Django ä¸­æ–‡æ–‡æ¡£ï¼šhttps://docs.djangoproject.com/zh-hans/2.2/</a></li>
  <li><a href="https://www.w3cschool.cn/django/">Django W3Cä»‹ç»ï¼šhttps://www.w3cschool.cn/django/</a></li>
</ul>

<p><a href="https://github.com/JustDoPython/python-100-day">ç¤ºä¾‹ä»£ç ï¼šhttps://github.com/JustDoPython/python-100-day</a></p>

:ET